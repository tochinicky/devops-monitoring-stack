# ======================== Elasticsearch Configuration =========================
#
# Elasticsearch configuration for EFK stack

# ---------------------------------- Cluster -----------------------------------
#
cluster.name: {{ elasticsearch_cluster_name | default('efk-cluster') }}
node.name: {{ ansible_hostname }}

# ------------------------------------ Node ------------------------------------
#
# Use a descriptive name for the node:
node.master: true
node.data: true
node.ingest: true

# ----------------------------------- Paths ------------------------------------
#
path.data: {{ elasticsearch_data_dir | default('/var/lib/elasticsearch') }}
path.logs: {{ elasticsearch_log_dir | default('/var/log/elasticsearch') }}

# ---------------------------------- Network -----------------------------------
#
# Set the bind address to a specific IP (IPv4 or IPv6):
network.host: {{ elasticsearch_network_host | default('0.0.0.0') }}

# Set a custom port for HTTP:
http.port: {{ elasticsearch_http_port | default('9200') }}

# --------------------------------- Discovery ----------------------------------
#
# Pass an initial list of hosts to perform discovery when this node is started:
discovery.seed_hosts: ["127.0.0.1", "[::1]"]

# Bootstrap the cluster using an initial set of master-eligible nodes:
cluster.initial_master_nodes: ["{{ ansible_hostname }}"]

# ---------------------------------- Various -----------------------------------
#
# Allow explicit index creation only
action.auto_create_index: false

# Disable security features for simplicity
xpack.security.enabled: false

# ---------------------------------- Memory -----------------------------------
#
# Lock the memory on startup:
bootstrap.memory_lock: {{ elasticsearch_memory_lock | default('false') }}

